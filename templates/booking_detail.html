{% extends 'base.html' %} 

{% block title %} 
  Booking Details
{% endblock %}

{% block content %}
  <div class="card shadow rounded-0">
    <form method="POST" action="{{ url_for('release_spot', booking_id = id) if not is_booking else url_for('active_booking_post', lot_id=id) }}">
      <div class="card-header d-flex justify-content-center align-items-center">
        <h5 class="card-title">Booking Details</h5>
      </div>
      <div class="container d-flex justify-content-center align-items-center" style="height: 75vh;">
        <div class="card-body d-flex justify-content-center p-5">
          <div class="shadow rounded-3 overflow-hidden border w-50">
            <table class="table table-striped table-hover m-0 p-0">
              <tr>
                <th class="table-dark">User Name :</th>
                <td>
                  <input name="username" type="text" class="form-control-plaintext" id="username" value="{{username|title}}" readonly required>
                </td>
              </tr>
              <tr>
                <th class="table-dark">Parking Name :</th>
                <td>
                  <input name="parking_name" type="text" class="form-control-plaintext" id="parking_name" value="{{parking_name|title}}" readonly required>
                </td>
              </tr>
              <tr>
                <th class="table-dark">Spot :</th>
                <td>
                  <input name="spot_number" type="text" class="form-control-plaintext" id="spot_number" value="{{spot_number}}" readonly required>
                </td>
              </tr>
              <tr>
                <th class="table-dark">In Time :</th>
                <td>
                  <input name="in_time" type="text" class="form-control-plaintext" id="in_time" value="{{in_time}}" readonly required>
                </td>
              </tr>
              <tr>
                <th class="table-dark">Price(per hour) :</th>
                <td>
                  <input name="price" type="number" class="form-control-plaintext" id="price" value="{{price}}" readonly required>
                </td>
              </tr>
              <tr>
                <th class="table-dark">Address :</th>
                <td>
                  <input name="address" type="text" class="form-control-plaintext" id="address" value="{{address|title}}" readonly required>
                </td>
              </tr>
              <tr>
                <th class="table-dark">Vehicle Number :</th>
                <td>
                  <input name="vehicle_number" type="text" class="{{ 'form-control-plaintext' if not is_booking else 'form-control' }}"
                  id="vehicle_number" placeholder="e.g., MH12AB1234" pattern="[A-Z]{2}[0-9]{1,2}[A-Z]{0,2}[0-9]{4}" value="{{vehicle_number if not is_booking else ''}}"
                  title="Format: Two letters for state, 1-2 digit RTO, optional 0-2 letters series, followed by 4 numbers. Example: MH12AB1234"
                  required>
                </td>
              </tr>
              {% if not is_booking %}
                <tr>
                  <th class="table-dark">Out Time :</th>
                  <td>
                    <input name="out_time" type="text" class="form-control-plaintext" id="out_time" value="{{out_time}}" readonly required>
                  </td>
                </tr>
                <tr>
                  <th class="table-dark">hours :</th>
                  <td>
                    <input name="hours" type="text" class="form-control-plaintext" id="hours" value="{{hours}}" readonly required>
                  </td>
                </tr>
                <tr>
                  <th class="table-dark">Total Cost :</th>
                  <td>
                    <input name="total_cost" type="text" class="form-control-plaintext" id="total_cost" value="{{total_cost}}" readonly required>
                  </td>
                </tr>
              {% endif %}
            </table>
          </div>
        </div>
      </div>
      <div class="card-footer d-flex justify-content-center align-items-center">
        <a href="{{url_for('active_booking') if not is_booking else url_for('home')}}" class="btn btn-outline-danger m-2">Cancel</a>
        <button type="submit" class="btn btn-outline-success m-2">{{ 'Pay â‚¹' ~ total_cost if not is_booking else 'Confirm' }}</button>
      </div>
    </form>
  </div>
{% endblock %}